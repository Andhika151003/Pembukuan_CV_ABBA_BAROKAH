<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.pembukuan_cv_abba_barokah.Controller.SideBarController"
           stylesheets="@SideBar.css">

    <!-- ================= MAIN LAYOUT ================= -->
    <BorderPane prefWidth="900" prefHeight="600">

        <!-- ================= SIDEBAR ================= -->
        <left>
            <ScrollPane fitToWidth="true"
                        hbarPolicy="NEVER"
                        vbarPolicy="AS_NEEDED"
                        styleClass="sidebar-scroll">

                <content>
                    <VBox styleClass="sidebar" spacing="12">

                        <!-- HEADER -->
                        <VBox alignment="CENTER" spacing="10">
                            <padding>
                                <Insets top="20" right="16" bottom="16" left="16"/>
                            </padding>

                            <HBox alignment="CENTER" spacing="10">
                                <Label text="ðŸ“ " styleClass="logo-icon-2"/>
                                <Label text="SiKeu ABBA" styleClass="sidebar-title"/>
                            </HBox>

                            <Separator/>
                        </VBox>

                        <!-- MENU CONTENT -->
                        <VBox spacing="10">
                            <padding>
                                <Insets top="0" right="16" bottom="24" left="16"/>
                            </padding>

                            <!-- INPUT DATA -->
                            <Label text="INPUT DATA" styleClass="menu-section"/>
                            <VBox spacing="4">
                                <Label text="Harga Pokok Penjualan" styleClass="menu-item" onMouseClicked="#openHpp"/>
                                <Label text="Penjualan" styleClass="menu-item" onMouseClicked="#openPenjualan"/>
                                <Label text="Pembayaran Dari Pembeli" styleClass="menu-item" onMouseClicked="#openPembayaran"/>
                                <Label text="Setor Pajak" styleClass="menu-item" onMouseClicked="#openSetorPajak"/>
                                <Label text="Biaya Pemasaran" styleClass="menu-item" onMouseClicked="#openPemasaran"/>
                                <Label text="Biaya Administrasi" styleClass="menu-item" onMouseClicked="#openAdministrasi"/>
                                <Label text="Pembelian Inventaris" styleClass="menu-item" onMouseClicked="#openInventaris"/>
                                <Label text="Retur Penjualan" styleClass="menu-item" onMouseClicked="#openReturPenjualan"/>
                                <Label text="Retur Pembelian" styleClass="menu-item" onMouseClicked="#openReturPembelian"/>
                                <Label text="Persediaan Barang" styleClass="menu-item" onMouseClicked="#openPersediaan"/>
                                <Label text="Utang Usaha" styleClass="menu-item" onMouseClicked="#openUtang"/>
                                <Label text="Modal" styleClass="menu-item" onMouseClicked="#openModal"/>
                            </VBox>

                            <Separator/>

                            <!-- PERHITUNGAN -->
                            <Label text="PERHITUNGAN" styleClass="menu-section"/>
                            <VBox spacing="4">
                                <Label text="Jumlah Total" styleClass="menu-item" onMouseClicked="#openRekap"/>
                                <Label text="Laba Rugi" styleClass="menu-item" onMouseClicked="#openLabaRugi"/>
                                <Label text="Pph 11%" styleClass="menu-item" onMouseClicked="#openPph"/>
                                <Label text="Pajak Belom Disetor" styleClass="menu-item" onMouseClicked="#openPajak"/>
                            </VBox>

                            <Separator/>

                            <!-- LAPORAN -->
                            <Label text="LAPORAN / OUTPUT" styleClass="menu-section"/>
                            <VBox spacing="4">
                                <Label text="Jurnal Pembukuan" styleClass="menu-item" onMouseClicked="#openJurnal"/>
                                <Label text="Cashflow Penjualan Barang" styleClass="menu-item" onMouseClicked="#openCashflow"/>
                                <Label text="Laporan Laba Rugi" styleClass="menu-item" onMouseClicked="#openLaporanLaba"/>
                                <Label text="Laporan Neraca Keuangan" styleClass="menu-item" onMouseClicked="#openNeraca"/>
                            </VBox>

                            <!-- LOGOUT -->
                            <VBox styleClass="logout-container">
                                <Button text=" Logout"
                                        onAction="#handleLogout"
                                        styleClass="logout-button">
                                    <graphic>
                                        <Label text="âŽ‹" styleClass="logout-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </VBox>
                    </VBox>
                </content>
            </ScrollPane>
        </left>

        <!-- ================= CONTENT AREA ================= -->
        <center>
            <StackPane fx:id="contentPane">
                <Label text="Silakan pilih menu"
                       styleClass="content-placeholder"/>
            </StackPane>
        </center>

    </BorderPane>

    <!-- ================= LOGOUT OVERLAY ================= -->
    <StackPane fx:id="logoutOverlay"
               visible="false"
               managed="false"
               styleClass="overlay-bg">

        <VBox spacing="16" 
              styleClass="logout-card"
              alignment="CENTER"
              maxWidth="360"
              prefWidth="360">
            <Label text="Konfirmasi Logout" styleClass="logout-title"/>
            <Label text="Apakah Anda yakin ingin logout?" styleClass="logout-text"/>

            <HBox spacing="12" alignment="CENTER_RIGHT">
                <Button text="Batal"
                        onAction="#cancelLogout"
                        styleClass="btn-cancel"/>
                <Button text="Logout"
                        onAction="#confirmLogout"
                        styleClass="btn-logout"/>
            </HBox>
        </VBox>
    </StackPane>

</StackPane>
